<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <title>Battlebots - Alpha 0.5.3</title>
    <link rel="stylesheet" href="static/css/fonts/vt323.css" />
    <link rel="stylesheet" href="static/css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="static/css/bootstrap/bootstrap-icons.css" />
    <link rel="stylesheet" href="static/css/styles.css" />
    <link rel="stylesheet" href="static/css/debug.css" />
    <link rel="stylesheet" href="static/css/startgame.css" />
    <link rel="stylesheet" href="static/css/scroll-text.css" />
    <link rel="stylesheet" href="static/css/select_map.css" />
  </head>


  <body data-bs-theme="dark">
    <!--FenÃªtre de dÃ©but du jeu-->
    <div id="choice-game-container" class="mx-auto">
      <div class="row justify-content-md-center">
        <div class="col-md-auto">
          <img class="startgame-logo unselectable" src="static/img/logo.png" />
        </div>
      </div>
      <div class="col-md-auto" style="height: 10vh"></div>
      <div class="padding-row row">
        <div class="col-md-3">
          <input class="form-check-input" type="checkbox" value="Debug Mode" id="flexCheckDefault" disabled /> Debug Mode
        <br></br>
          <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" disabled/> Training Mode
        </div>
        <div class="col-md-6">
          <div id="choice-game-maplist" class="list-group">
            <!--ComplÃ©tÃ© par le JS mapSelector.js-->
          </div>
        </div>
        <div class="col-md-3" >
          <div class= "row justify-content-md-center choice-game-info" id="choice-game-map-preview">
            <!--ComplÃ©tÃ© par le JS mapSelector.js-->
          </div>
        </div>
      </div>
      <div class="col-md-auto" style="height: 5vh"></div>
      <div class="row justify-content-md-center">
        <div class="col-md-auto">     
          <button type="button" class="btn btn-outline-danger btn-block" id="choice-game-start-button">
            START
          </button>
        </div>
      </div>
    </div>


    <!-- FenÃªtre de fin de jeu avec le rÃ©cap de la partie -->
    <div id="endgame-modal" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" style="display: none;" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-4">Fin de partie</h1>
          </div>
          <div class="modal-body">
            <div class="row justify-content-md-center">
              <div class="col-xl-auto text-center">
                <h2>Vainqueur :</h2>
                <h1 id="endgame-message-l1">N/A</h1>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Page d'attente -->
    <div id="startgame-scroll-container">
      <pre id="startgame-scroll-text" class="vertical-scrolling-text unselectable"></pre>
    </div>
    <div id="startgame-container" class="container-fluid unselectable" hidden>
      <div class="row justify-content-md-center">
        <div class="col-md-auto">
          <img class="startgame-logo unselectable" src="static/img/logo.png" />
        </div>
      </div>
      <div class="row justify-content-md-center">
        <div class="col-md-auto" style="height: 10vh"></div>
      </div>
      <div class="container-fluid startgame-block-rounded">
        <div class="row justify-content-center">
          <div id="startgame-messages" class="col-xl-auto text-center">
            <h1>EN ATTENTE DE CONNEXION DES IA...</h1>
            <span class="blinking-cursor">â–ˆ</span>
            <p id="startgame-messages-rules">LA PARTIE DÃ‰MARRE Ã€ PARTIR DE 3 BOTS ET SE TERMINE LORSQU'IL NE RESTE QU'1 Ã‰QUIPE EN VIE</p>
          </div>
        </div>
      </div>
      <button id="debug-button-add-bot" class="btn btn-dark" type="button" hidden>Connecter un bot ðŸ¤–</button>
    </div>

    <!-- DonnÃ©es de dÃ©bug en haut Ã  gauche -->
    <div id="debug-container" class="unselectable" hidden>
      <div id="info-container-buttons" class="default-container top-middle-container">
        <div class="d-grid">
          <button id="button-collisions" class="btn btn-primary" type="button">Afficher les collisions ðŸ’¥</button>
        </div>
      </div>

      <div id="info-container-text" class="default-container top-left-container" hidden></div>

      <div id="remote-container" class="default-container bottom-middle-container" hidden>
        <div class="row align-items-center">
          
          <!-- Partie dÃ©placements du bot -->
          <div class="col-sm-4">
            <div class="row g-0">
              <div class="col-sm-4"></div>
              <div class="col-sm-4 text-center">
                <button id="button-remote-up" class="btn btn-primary btn-remote" type="button"><i class="bi bi-chevron-up"></i></button>
              </div>
              <div class="col-sm-4"></div>
            </div>
            <div class="row g-0">
              <div class="col-sm-4 text-end">
                <button id="button-remote-left" class="btn btn-primary btn-remote"><i class="bi bi-chevron-left"></i></button>
              </div>
              <div class="col-sm-4 text-center">
                <button id="button-remote-stop" class="btn btn-primary btn-remote"><i class="bi bi-pause"></i></button>
              </div>
              <div class="col-sm-4 text-start">
                <button id="button-remote-right" class="btn btn-primary btn-remote"><i class="bi bi-chevron-right"></i></button>
              </div>
            </div>
          </div>

          <!-- Partie gestion du bot -->
          <div class="col">
            <div class="row g-0 align-items-center">
              <div class="col-sm-6">
                <div class="row g-0">
                  <button id="button-remote-shoot" class="btn btn-primary btn-action"><i class="bi bi-fire"></i> Tirer</button>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="row g-0">
                  <input id="input-remote-angle" type="number" step="1.0" class="form-control" placeholder="0,0Â°" />
                </div>
              </div>
            </div>
            <div class="row g-0 align-items-center">
              <button id="button-remote-kill" class="btn btn-danger"><i class="bi bi-slash-circle"></i> Tuer le bot</button>
            </div>
            <div class="row g-0 align-items-center">
              <button id="button-remote-camera" class="btn btn-primary"><i class="bi bi-camera"></i> CamÃ©ra</button>
            </div>
          </div>
        </div>
      </div>
    </div>


    <!-- Menu latÃ©ral camÃ©ras -->
    <div id="menu-container" class="col-sm-2" hidden>
      <div class="row g-0 align-items-center justify-content-end">
        <button id="button-preview-toggle" type="button" class="btn btn-primary rounded-circle">
          <i class="bi bi-chevron-double-right"></i>
        </button>
      </div>
      <div class="row g-0">
        <div id="cameras-container" class="col"></div>
      </div>
    </div>

    <!-- Contient l'affichage de la partie -->
    <div id="view-container" hidden>
      <canvas id="threejs-canvas"></canvas>
    </div>

    <script type="importmap">
      {
        "imports": {
          "three": "./static/js/threejs/three.module.js",
          "controls/OrbitControls": "./static/js/threejs/OrbitControls.js",
          "stats.module": "./static/js/threejs/stats.module.js",
          "loaders/OBJLoader": "./static/js/threejs/OBJLoader.js",
          "loaders/GLTFLoader": "./static/js/threejs/GLTFLoader.js",
          "loaders/FontLoader": "./static/js/threejs/FontLoader.js",
          "geometries/TextGeometry": "./static/js/threejs/TextGeometry.js",
          "tween": "./static/js/tweenjs/tween.js"
        }
      }
    </script>
    <script src="static/js/bootstrap/bootstrap.bundle.min.js"></script>
    <script type="module" src="static/js/script.js"></script>
  </body>
</html>
